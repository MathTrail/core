«Нам нужно настроить GitHub Self-Hosted Runner на мощном Linux-воркстейшне для проекта MathTrail. Runner должен быть готов к запуску тяжелых интеграционных тестов с использованием Kafka и Flink.

Задачи:

Установка Runner: Напиши скрипт автоматической установки и регистрации GitHub Runner как системного сервиса (systemd).

Изоляция среды: Настрой Runner так, чтобы каждый запуск (Job) происходил в чистой среде. Используй k3d для создания временных кластеров.

Local Registry: Сконфигурируй локальный Docker Registry, интегрированный с k3d, чтобы образы микросервисов пушились и скачивались внутри воркстейшна без выхода в интернет.

Ресурсы и Очистка: >     * Напиши bash-скрипт cleanup-ci.sh, который будет принудительно удалять зависшие контейнеры k3d, тома и сети, если билд упал.

Настрой Docker лог-ротацию, чтобы логи тестов не забили диск.

Pre-caching: Подготовь список образов (Strimzi, Flink Operator, Postgres, Apicurio), которые нужно "прогреть" (запуллить) на хост заранее, чтобы ускорить холодный старт билдов.»